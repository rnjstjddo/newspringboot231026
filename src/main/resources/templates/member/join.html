<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<th:block th:replace="~{layout/article_about_member :: setContent(~{this::content} )}">
    <th:block th:fragment="content">

        <article>
            <!-- Post header-->
            <!--            <header class="mb-4">
                            &lt;!&ndash; Post title&ndash;&gt;
                            <h1 class="fw-bolder mb-1">영화리뷰 Movie Review Page</h1>
                        </header>-->
            <div class="container">
                <div class="h4 pb-2 mb-4 text-primary border-bottom border-primary">
                    회원가입
                </div>

<!--
                <a class="btn btn-outline-success" th:href="|@{/}?${pageRequestDto.getLink()}|">목록으로</a>
-->

                <a class="btn btn-outline-success" th:href="@{/home/home}">분양글목록으로 이동</a>

                <br>
                <br>
                <form method="post" action="/member/join" >

                    <div class="col-12">
                        <label class="form-label">아이디</label>
                        <input type="text" class="form-control" name="username" id="name"
                               placeholder="아이디를 입력해주세요" required>
                        <button type="button" id="namecheck" class="btn btn-outline-danger">아이디중복확인</button>
                    </div>
                    <br>
                    <br>
                    <div class="col-12">
                        <label class="form-label">비밀번호</label>
                        <input type="password" class="form-control" name="password" autocomplete="off"
                               id="password" placeholder="비밀번호를 입력해주세요" required>
                    </div>
                    <br>
                    <br>
                    <div class="col-12">
                        <label class="form-label">이메일</label>
                        <input type="text" class="form-control" name="email" id="email"
                               placeholder="이메일을 입력해주세요" required>
                    </div>


                    <br>
                    <br>


                    <div style="display:inline-block;text-align:right;">
                        <button type="button" class="btn btn-outline-warning" id="joinBtn">회원가입</button>
                    </div>


                </form>
            </div>
        </article>

    </th:block>

<script th:inline="javascript">

$(document).ready(function(){

    //아이디중복확인 on이벤트진입
    $("#namecheck").on("click", function(){
        console.log("member-join.html 회원가입 중 아이디중복확인 진입");

        var data = $("#name").val();
        console.log("member-join.html 회원가입 중 아이디중복확인 진입 입력받은 아이디값 -> "+ data);

        $.ajax({
            url:'/'
            method:'post';
            dataType:
            contentType:
            success: function(result){
                if(result== "true"){
                    console.log("member-join.html 회원가입 중 아이디중복확인 결과 -> 사용가능")
                    alert("아이디 사용가능합니다!")
                    $("#name").attr("readonly",true);
                }
                if(result == "false"){
                    console.log("member-join.html 회원가입 중 아이디중복확인 결과 -> 중복됨")
                    alert("아이디가 중복됩니다. 다른 아이디로 변경해주세요!");
                    $("#name").focus();

                }
            },

            fail: function(){
                console.log("member-join.html 회원가입 중 아이디중복확인 중 에러발생 현재페이지 replace() ")
                location.replace(`/member/join`)
            }
        });//끝 $.ajax
    });//끝 on클릭이벤트진입 아이디중복확인

});//끝 제이쿼리

</script>
</th:block>

</html>